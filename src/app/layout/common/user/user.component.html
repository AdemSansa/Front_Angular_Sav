<!-- Button -->



<div

[matMenuTriggerFor]="userActions"
[attr.aria-label]="'User Menu'"
class="flex items-center gap-4 px-4 py-4 mx-4 mt-4 rounded-xl bg-white/10 backdrop-blur-md border border-white/20 shadow-inner hover:bg-white/30 hover:scale-[1.02] transition-all duration-300 cursor-pointer ">

<img
    class="w-12 h-12 rounded-full border-2 border-white shadow-sm"
    [src]="user?.avatar"
    alt="User Avatar"
/>
<div class="flex flex-col">
    <span class="text-base font-semibold text-white truncate">
        {{ user?.name }}
    </span>
    <span class="text-md text-gray-300">Welcome back ðŸ‘‹</span>
</div>
 <!-- Status Indicator -->
 <span
 class="absolute  right-5 w-3 h-3 rounded-full border border-white/40 transition-colors duration-300"
 [ngClass]="{
   'bg-green-400': user?.status === 'online',
   'bg-amber-400': user?.status === 'away',
   'bg-red-400': user?.status === 'busy',
   'bg-gray-400': user?.status === 'not-visible'
 }"
></span>
</div>

<!-- User Actions Menu -->
<mat-menu #userActions="matMenu" xPosition="before" class="min-w-[260px] bg-white/95 backdrop-blur-md rounded-xl shadow-lg">
  <div class="px-5 py-4">
    <span class="text-sm text-gray-500 font-medium">Signed in as</span>
    <span class="block text-lg font-semibold text-gray-900 truncate">
      {{ user?.email || 'user@example.com' }}
    </span>
  </div>
  <mat-divider class="border-gray-200"></mat-divider>
  <button mat-menu-item routerLink="home/profile" class="flex items-center h-12 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <mat-icon class="w-6 h-6 mr-4 text-gray-500" [svgIcon]="'heroicons_outline:user-circle'"></mat-icon>
    <span>Profile</span>
  </button>
  <button mat-menu-item routerLink="/settings" class="flex items-center h-12 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <mat-icon class="w-6 h-6 mr-4 text-gray-500" [svgIcon]="'heroicons_outline:cog-8-tooth'"></mat-icon>
    <span>Settings</span>
  </button>
  <button mat-menu-item [matMenuTriggerFor]="userStatus" class="flex items-center h-12 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <mat-icon class="w-6 h-6 mr-4 text-gray-500" [svgIcon]="'heroicons_outline:ellipsis-horizontal-circle'"></mat-icon>
    <span>Status</span>
  </button>
  <mat-divider class="border-gray-200"></mat-divider>
  <button mat-menu-item (click)="signOut()" class="flex items-center h-12 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <mat-icon class="w-6 h-6 mr-4 text-gray-500" [svgIcon]="'heroicons_outline:arrow-right-on-rectangle'"></mat-icon>
    <span>Sign out</span>
  </button>
</mat-menu>

<!-- User Status Menu -->
<mat-menu #userStatus="matMenu" class="min-w-[220px] bg-white/95 backdrop-blur-md rounded-xl shadow-lg">
  <button mat-menu-item (click)="updateUserStatus('online')" class="flex items-center h-11 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <span class="w-4 h-4 mr-4 rounded-full bg-green-400"></span>
    <span>Online</span>
  </button>
  <button mat-menu-item (click)="updateUserStatus('away')" class="flex items-center h-11 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <span class="w-4 h-4 mr-4 rounded-full bg-amber-400"></span>
    <span>Away</span>
  </button>
  <button mat-menu-item (click)="updateUserStatus('busy')" class="flex items-center h-11 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <span class="w-4 h-4 mr-4 rounded-full bg-red-400"></span>
    <span>Busy</span>
  </button>
  <button mat-menu-item (click)="updateUserStatus('not-visible')" class="flex items-center h-11 text-base font-medium text-gray-700 hover:bg-gray-100/80 hover:text-gray-900 transition-colors duration-200">
    <span class="w-4 h-4 mr-4 rounded-full bg-gray-400"></span>
    <span>Invisible</span>
  </button>
</mat-menu>