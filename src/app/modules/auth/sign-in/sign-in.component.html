<!-- Login Page -->
<div class="flex flex-col md:flex-row h-screen w-full bg-gradient-to-br from-gray-900 to-gray-800 text-white">
  
  <!-- Left Sidebar -->
  <div class="hidden md:flex md:flex-col justify-between w-1/2 p-12 bg-gray-950 rounded-r-3xl shadow-xl">
    <div>
      <!--make the image centerred and responsive-->
      <img class="w-40 sm:w-48 md:w-56 justify-center ml-50 mb-4" src="assets/images/logo/logo-white.png" alt="SAV Logo">
      <h1 class="text-5xl font-extrabold leading-tight mb-6">
        Track. Repair. <br>Stay Informed.
      </h1>
      <p class="text-gray-400 text-lg max-w-md">
        The Magasin GÃ©nÃ©ral After-Sales platform keeps you up-to-date with every step: request history, technician reports, and transport tracking.
      </p>
    </div>

    <!-- Roles Overview -->
    <div class="grid grid-cols-2 gap-4 text-sm text-gray-300 mt-8">
      <div><strong>ðŸŽ« Client:</strong> Complaint tracking</div>
      <div><strong>ðŸ’¼ Front Desk:</strong> Request intake</div>
      <div><strong>ðŸ›  Technician:</strong> Interventions & reports</div>
      <div><strong>ðŸš› Transporter:</strong> Transfers tracking</div>
    </div>
  </div>

  <!-- Form Section -->
  <div class="flex items-center justify-center w-full md:w-1/2 px-6 md:px-16 py-12">
    <div class="w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl p-10 shadow-2xl text-gray-800 dark:text-white">
      
      <!-- Title -->
      <h2 class="text-3xl font-bold mb-1 text-center">Welcome Back</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400 text-center mb-6">Sign in to continue managing your SAV requests.</p>

      <!-- Alert (Static Info) -->
      <fuse-alert class="mb-6" [appearance]="'outline'" [showIcon]="false" [type]="'info'">
        Welcome to <strong>Magasin GÃ©nÃ©ral</strong>'s After-Sales platform.
      </fuse-alert>

      <!-- Dynamic Alert -->
      @if(showAlert) {
        <fuse-alert class="mb-6" [appearance]="'outline'" [showIcon]="false" [type]="alert.type" [@shake]="alert.type === 'error'">
          {{alert.message}}
        </fuse-alert>
      }

      <!-- Login Form -->
      <form [formGroup]="signInForm" #signInNgForm="ngForm" (ngSubmit)="signIn()">

        <!-- Email -->
        <mat-form-field class="w-full" appearance="outline">
          <mat-label>Email</mat-label>
          <input id="email" matInput [formControlName]="'email'">
          @if (signInForm.get('email').hasError('required')) {
            <mat-error>Email is required</mat-error>
          }
          @if (signInForm.get('email').hasError('email')) {
            <mat-error>Invalid email format</mat-error>
          }
        </mat-form-field>

        <!-- Password -->
        <mat-form-field class="w-full mt-4" appearance="outline">
          <mat-label>Password</mat-label>
          <input id="password" matInput type="password" [formControlName]="'password'" #passwordField>
          <button mat-icon-button type="button" (click)="passwordField.type === 'password' ? passwordField.type = 'text' : passwordField.type = 'password'" matSuffix>
            <mat-icon [svgIcon]="passwordField.type === 'password' ? 'heroicons_solid:eye' : 'heroicons_solid:eye-slash'"></mat-icon>
          </button>
          <mat-error>Password is required</mat-error>
        </mat-form-field>

        <!-- Options -->
        <div class="flex items-center justify-between mt-4">
          <mat-checkbox [formControlName]="'rememberMe'">Remember me</mat-checkbox>
          <a class="text-sm font-medium text-primary-500 hover:underline" [routerLink]="['/forgot-password']">Forgot password?</a>
        </div>

        <!-- Sign In Button -->
        <button class="fuse-mat-button-large w-full mt-6" mat-flat-button color="primary" [disabled]="signInForm.disabled">
          @if (!signInForm.disabled) { <span>Sign In</span> }
          @if (signInForm.disabled) {
            <mat-progress-spinner [diameter]="24" mode="indeterminate"></mat-progress-spinner>
          }
        </button>

        <!-- Sign Up Link -->
       
      </form>
    </div>
  </div>
</div>
