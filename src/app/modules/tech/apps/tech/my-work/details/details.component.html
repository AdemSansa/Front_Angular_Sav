@if (complaint) {
    <div
        class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-hidden bg-card dark:bg-transparent"
    >
        <form class="w-full" #myForm="ngForm" ngForm="ngForm">
            <!-- Header -->
            <div class="flex flex-row md:gap-4 items-center px-4 h-fit md:h-14  border-b bg-gray-900">
                <div class="flex gap-2 w-1/4 text-4xl font-extrabold text-white">
                    <span>{{ 'Details' | transloco }}</span>
                    <span class="hidden sm:flex">{{ 'Request' | transloco }}</span>
                </div>
              
            </div>
            <!-- Main -->
            <div class="flex flex-col flex-auto h-[calc(100vh-8rem)] bg-gray-100 overflow-y-auto">
                <div class="flex flex-col mb-6 w-full">
                    <div class="grid sm:grid-cols-9 gap-6 p-3">
                        <!-- Code -->
                        <div class="sm:col-span-3">
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <mat-label class="capitalize">{{ 'Code' | transloco }}</mat-label>
                                <input [(ngModel)]="complaint.code" matInput name="code" type="text" readonly />
                            </mat-form-field>
                        </div>
                        <!-- Name -->
                        <div class="sm:col-span-3">
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <mat-label class="capitalize">{{ 'Name' | transloco }}</mat-label>
                                <input [(ngModel)]="complaint.name" matInput name="name" type="text" readonly />
                            </mat-form-field>
                        </div>
                        <!-- Phone -->
                        <div class="sm:col-span-3">
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <mat-label class="capitalize">{{ 'Phone' | transloco }}</mat-label>
                                <input [(ngModel)]="complaint.phone" matInput name="phone" type="text" readonly />
                            </mat-form-field>
                        </div>
                        <!-- Description -->
                        <div class="sm:col-span-9">
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <mat-label class="capitalize">{{ 'Description' | transloco }}</mat-label>
                                <textarea [(ngModel)]="complaint.description" matInput name="description" readonly></textarea>
                            </mat-form-field>
                        </div>
                        <!-- Status -->
                        <div class="sm:col-span-3">
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <mat-label class="capitalize">{{ 'Status' | transloco }}</mat-label>
                                <input [(ngModel)]="complaint.status" matInput name="status" type="text" readonly />
                            </mat-form-field>
                        </div>
                    
                        <!-- Assign Button TO to tech-->
                      
                            <div class="sm:col-span-3 flex ml-20 flex-wrap justify-center gap-4">
                                <!-- Start Working Button -->
                                <button 
                                    mat-raised-button 
                                    color="primary" 
                                    class="px-6 py-2 text-white font-semibold shadow-md transition-all duration-300 ease-in-out"
                                    [disabled]="complaint.status !== 'Paused'"
                                    (click)="StartWorking()">
                                    {{ 'Start Working' | transloco }}
                                </button>

                                <!-- Pause button-->
                                <button 
                                    mat-raised-button 
                                    color="primary" 
                                    class="px-6 py-2 text-white font-semibold shadow-md transition-all duration-300 ease-in-out"
                                    [disabled]="complaint.status !== 'In Progress'"
                                    (click)="PauseWorking()">
                                    {{ 'Pause Working' | transloco }}
                                </button>

                                <!-- Finish Working Button -->
                                <button 
                                    mat-raised-button 
                                    color="primary" 
                                    class="px-6 py-2 text-white font-semibold shadow-md transition-all duration-300 ease-in-out"
                                    [disabled]="complaint.status !== 'In Progress'"
                                    (click)="FinishWorking()">
                                    {{ 'Finish Working' | transloco }}
                                </button>

                            
                                <!-- Request Return Button -->
                                <button 
                                    mat-raised-button 
                                    color="warn" 
                                    (click)="requestReturn()"
                                    class="px-6 py-2 text-white font-semibold shadow-md transition-all duration-300 ease-in-out">
                                    {{ 'Request a return to the Supervisor' | transloco }}
                                </button>
                            </div>
                                                 
                    </div>
                </div>
            </div>
        </form>
    </div>
}
